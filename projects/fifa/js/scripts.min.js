"use strict";function mathcTotalCost(t){var s=0;t.find(".tickets-result__box .mCSB_container .tickets-result__el").each(function(t){var i=$(this).data("cost");s+=i*Number($(this).find(".tickets-result__count input").val())}),t.find(".tickets-result__total span").html(s+"€")}function number_format(t,s,i,a){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+t)?+t:0,c=isFinite(+s)?Math.abs(s):0,d=void 0===a?",":a,o=void 0===i?".":i,l="",n=function(t,s){var i=Math.pow(10,s);return""+(Math.round(t*i)/i).toFixed(s)};return l=(c?n(e,c):""+Math.round(e)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),(l[1]||"").length<c&&(l[1]=l[1]||"",l[1]+=new Array(c-l[1].length+1).join("0")),l.join(o)}$(document).ready(function(){$(".mobile-menu").on("click",function(){$("header nav > ul").stop().slideToggle()}),$(".anchor-run").on("click",function(t){t.preventDefault();var s=$(this).attr("href"),i=$(s).offset().top-50;$("body,html").stop().animate({scrollTop:i},1500)}),$(".tags").isotope({itemSelector:".anchor-run",layoutMode:"fitRows"}),$.datepicker.setDefaults($.datepicker.regional.ru),$(".calendar").datepicker(),$(".tabs-slider").slick({slidesToShow:4,slidesToScroll:1,arrows:!1,asNavFor:".choose-slider",focusOnSelect:!0}),$(".top-slider").slick({slidesToShow:1,slidesToScroll:1,fade:!0,autoplay:!0,arrows:!1,autoplaySpeed:2e3,pauseOnHover:!1}),$(".title-slider").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".choose-slider"}),$(".game-slider").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".choose-slider",arrows:!1,fade:!0,swipe:!1}),$(".counter .button").on("click",function(){var t=$(this).parent(".counter").find(".count").html();$(this).hasClass("plus")?t++:t>1&&t--,$(this).parent(".counter").find(".count").html(t)}),$("#your-order .button").each(function(){var t=$(this).parent(".counter").find(".count"),s=t.html(),i=$(this).parents(".block"),a=t.attr("data-count"),e=$('[data-cost="'+a+'"').html(),c=$('[data-total-cost="'+a+'"'),d=(i.find(".all-count"),i.find("[data-total-cost]").length,i.find("[data-total-cost]")),o=$("#your-order .all-count"),l=$(".additional-discount").data("discount"),n=0,r=0;c.html(e*s),d.each(function(){n+=Number($(this).html())}),i.find(".all-count").html(n),o.each(function(){r+=Number($(this).html())}),r-=r/100*l,$("#result-price").html(r.toFixed(2))}),$("#your-order").on("click",".button",function(){var t=$(this).parent(".counter").find(".count"),s=t.html(),i=$(this).parents(".block"),a=t.attr("data-count"),e=$('[data-cost="'+a+'"').html(),c=$('[data-total-cost="'+a+'"'),d=(i.find(".all-count"),$(".additional-discount").data("discount")),o=(i.find("[data-total-cost]").length,i.find("[data-total-cost]")),l=$("#your-order .all-count"),n=0,r=0;c.html(e*s),o.each(function(){n+=Number($(this).html())}),i.find(".all-count").html(n),l.each(function(){r+=Number($(this).html())}),console.log(r),r-=r/100*d,$("#result-price").html(r.toFixed(2))});var t=[],s=$("body");$(".stadium-text-sector:not(.no-places)").mouseenter(function(t){$(this).closest(".select-tickets").find('.stadium-sector[data-id="'+$(this).data("target")+'"]').addClass("hover")}).mouseleave(function(t){$(this).closest(".select-tickets").find('.stadium-sector[data-id="'+$(this).data("target")+'"]').removeClass("hover")}).on("click",function(s){var i=$(this).closest(".select-tickets"),a=i.find('.stadium-sector[data-id="'+$(this).data("target")+'"]').hasClass("active"),e=i.find('.stadium-sector[data-id="'+$(this).data("target")+'"]').data("cost");if(a)i.find('.stadium-sector[data-id="'+$(this).data("target")+'"]').removeClass("active"),t.splice(t.indexOf($(this).data("target")),1),i.find('.tickets-result__box .mCSB_container .tickets-result__el[data-ticket-id="'+$(this).data("target")+'"]').remove(),mathcTotalCost(i);else{i.find('.stadium-sector[data-id="'+$(this).data("target")+'"]').addClass("active"),t.push($(this).data("target"));var c=$(".choose-tickets__match .slick-slide.slick-current.slick-active"),d='<div class="tickets-result__el" data-cost="'+e+'" data-ticket-id="'+$(this).data("target")+'"><div class="tickets-result__team"><span>'+c.data("team1")+"</span>vs<span>"+c.data("team2")+'</span></div><div class="tickets-result__date"><span>'+c.data("date")+"</span><span>"+c.data("city")+'</span></div><div class="tickets-result__stadium">'+c.data("stadium")+'</div><div class="tickets-result__footer"><div class="tickets-result__sector">sector '+$(this).data("target")+'</div><div class="tickets-result__count"><div class="minus">-</div><input type="number" value="1" tabindex="0"><div class="plus">+</div></div><div class="tickets-result__cost">'+e+"€</div></div></div>";i.find(".tickets-result__box .mCSB_container").append(d),mathcTotalCost(i)}}),$(".stadium-sector-a:not(.no-places), .stadium-sector-b:not(.no-places), .stadium-sector-c:not(.no-places), .stadium-sector-d:not(.no-places)").on("click",function(s){var i=$(this).hasClass("active"),a=$(this).data("cost"),e=$(this).closest(".select-tickets");if(i)$(this).removeClass("active"),t.splice(t.indexOf($(this).data("id")),1),e.find('.tickets-result__box .mCSB_container .tickets-result__el[data-ticket-id="'+$(this).data("id")+'"]').remove(),mathcTotalCost(e);else{$(this).addClass("active"),t.push($(this).data("id"));var c=$(".choose-tickets__match .slick-slide.slick-current.slick-active"),d='<div class="tickets-result__el" data-cost="'+a+'" data-ticket-id="'+$(this).data("id")+'"><div class="tickets-result__team"><span>'+c.data("team1")+"</span>vs<span>"+c.data("team2")+'</span></div><div class="tickets-result__date"><span>'+c.data("date")+"</span><span>"+c.data("city")+'</span></div><div class="tickets-result__stadium">'+c.data("stadium")+'</div><div class="tickets-result__footer"><div class="tickets-result__sector">sector '+$(this).data("id")+'</div><div class="tickets-result__count"><div class="minus">-</div><input type="number" value="1" tabindex="0"><div class="plus">+</div></div><div class="tickets-result__cost">'+a+"€</div></div></div>";e.find(".tickets-result__box .mCSB_container").append(d),mathcTotalCost(e)}}),$(".stadium-sector-vip:not(.no-places)").on("click",function(s){var i=$(this).closest(".select-tickets"),a=i.find(".stadium-sector-vip").hasClass("active"),e=i.find(".stadium-sector-vip").data("cost");if(a)i.find(".stadium-sector-vip").removeClass("active"),t.splice(t.indexOf("vip"),1),i.find('.tickets-result__box .mCSB_container .tickets-result__el[data-ticket-id="vip"]').remove(),mathcTotalCost(i);else{i.find(".stadium-sector-vip").addClass("active"),t.push("vip");var c=$(".choose-tickets__match .slick-slide.slick-current.slick-active"),d='<div class="tickets-result__el" data-cost="'+e+'" data-ticket-id="vip"><div class="tickets-result__team"><span>'+c.data("team1")+"</span>vs<span>"+c.data("team2")+'</span></div><div class="tickets-result__date"><span>'+c.data("date")+"</span><span>"+c.data("city")+'</span></div><div class="tickets-result__stadium">'+c.data("stadium")+'</div><div class="tickets-result__footer"><div class="tickets-result__sector">sector VIP</div><div class="tickets-result__count"><div class="minus">-</div><input type="number" value="1" tabindex="0"><div class="plus">+</div></div><div class="tickets-result__cost">'+e+"€</div></div></div>";i.find(".tickets-result__box .mCSB_container").append(d),mathcTotalCost(i)}}),$(".stadium-text-vip:not(.no-places)").mouseenter(function(t){$(this).closest(".select-tickets").find(".stadium-sector-vip").addClass("hover")}).mouseleave(function(t){$(this).closest(".select-tickets").find(".stadium-sector-vip").removeClass("hover")}).on("click",function(s){var i=$(this).closest(".select-tickets"),a=i.find(".stadium-sector-vip").hasClass("active"),e=i.find(".stadium-sector-vip").data("cost");if(a)i.find(".stadium-sector-vip").removeClass("active"),t.splice(t.indexOf("vip"),1),i.find('.tickets-result__box .mCSB_container .tickets-result__el[data-ticket-id="vip"]').remove(),mathcTotalCost(i);else{i.find(".stadium-sector-vip").addClass("active"),t.push("vip");var c=$(".choose-tickets__match .slick-slide.slick-current.slick-active"),d='<div class="tickets-result__el" data-cost="'+e+'" data-ticket-id="vip"><div class="tickets-result__team"><span>'+c.data("team1")+"</span>vs<span>"+c.data("team2")+'</span></div><div class="tickets-result__date"><span>'+c.data("date")+"</span><span>"+c.data("city")+'</span></div><div class="tickets-result__stadium">'+c.data("stadium")+'</div><div class="tickets-result__footer"><div class="tickets-result__sector">sector VIP</div><div class="tickets-result__count"><div class="minus">-</div><input type="number" value="1" tabindex="0"><div class="plus">+</div></div><div class="tickets-result__cost">'+e+"€</div></div></div>";i.find(".tickets-result__box .mCSB_container").append(d),mathcTotalCost(i)}}),s.on("change",".tickets-result__count input",function(t){console.log(Number($(this).val())),Number($(this).val())>99&&$(this).val(99),Number($(this).val())<1&&$(this).val(1),mathcTotalCost($(this).closest(".select-tickets"))}),s.on("click",".tickets-result__count .minus",function(t){var s=$(this).closest(".tickets-result__count").find("input");if(Number(s.val())>1){s.val(s.val()-1);mathcTotalCost($(this).closest(".select-tickets"))}}),s.on("click",".tickets-result__count .plus",function(t){var s=$(this).closest(".tickets-result__count").find("input");if(Number(s.val())<99){s.val(Number(s.val())+1);mathcTotalCost($(this).closest(".select-tickets"))}}),$(".tickets-result__box").mCustomScrollbar(),$(".choose-tickets__match").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".choose-tickets__slider"}),$(".choose-tickets__box").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".choose-tickets__slider",draggable:!1,arrows:!1,fade:!0})});